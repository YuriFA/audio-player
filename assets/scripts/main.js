!function a(r,o,u){function s(n,e){if(!o[n]){if(!r[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(l)return l(n,!0);throw new Error("Cannot find module '"+n+"'")}var i=o[n]={exports:{}};r[n][0].call(i.exports,function(e){var t=r[n][1][e];return s(t||e)},i,i.exports,a,r,o,u)}return o[n].exports}for(var l="function"==typeof require&&require,e=0;e<u.length;e++)s(u[e]);return s}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();var a=function(){function n(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2048;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.analyser=null,this.fFrequencyData=null,this.bFrequencyData=null,this.bTimeData=null,this.fftSize=t,this._context=e,this._create(),this.updateData()}return i(n,[{key:"_create",value:function(){return this.analyser=this._context.createAnalyser(),this.analyser.fftSize=this.fftSize,this.fFrequencyData=new Float32Array(this.analyser.frequencyBinCount),this.bFrequencyData=new Uint8Array(this.analyser.frequencyBinCount),this.bTimeData=new Uint8Array(this.analyser.frequencyBinCount),this}},{key:"updateData",value:function(){return this.analyser.getFloatFrequencyData(this.fFrequencyData),this.analyser.getByteFrequencyData(this.bFrequencyData),this.analyser.getByteTimeDomainData(this.bTimeData),this}}]),n}();n.default=a},{}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),r=i(e("./Playlist")),o=(i(e("./Track")),i(e("./utils/EventEmmiter"))),u=i(e("./Equalizer")),s=i(e("./Analyser"));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function i(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return n.playlist=new r.default(e),n.muted=!1,n.currentTrackIndex=0,n.settings=t,n._playback={},n._resetPlaybackInfo(),n._setTrack(),n._ctx=null,n._gain=null,n._equalizer=null,n._analyser=null,n._createAudioApiNodes(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,o.default),a(i,[{key:"play",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;if(this.isPlaying)return this;this.currentTrackIndex=e||this.currentTrackIndex,this._playback.track&&this._playback.track.id===this.currentTrackIndex||this._setTrack();var n=this._playback.track;return console.log("Playing track id="+this.currentTrackIndex+" - "+n.src),n.audio&&n.isBuffered()?(n.audio.play(),this._playback.playing=!0):(n.load(),n.on("canplay",this._startPlayback.bind(this)),n.on("ended",this.playNext.bind(this)),n.on("progress",function(e){t.emit("track:progress",e)}),n.on("loadeddata",function(e){t.emit("track:loadeddata",e)}),n.on("canplaythrough",function(e){t.emit("track:canplaythrough",e)}),n.on("loadedmetadata",function(e){t.emit("track:loadedmetadata",e)}),n.on("timeupdate",function(e){t.emit("track:timeupdate",e)})),this}},{key:"stop",value:function(){this._playback.playing=!1;var e=this._playback.track;return e.audio.pause(),e.audio.currentTime=0,this}},{key:"pause",value:function(){return this._playback.playing=!1,this._playback.track.audio.pause(),console.log("PAUSED"),this}},{key:"mute",value:function(){return this._playback.track.muted=!0,this.muted=!0,this}},{key:"unmute",value:function(){return this._playback.track.muted=!1,this.muted=!1,this}},{key:"playNext",value:function(){return this.isPlaying&&this.stop(),this._resetPlaybackInfo(),this.currentTrackIndex+=1,this.play(),this}},{key:"playPrev",value:function(){return this.isPlaying&&this.stop(),this._resetPlaybackInfo(),this.currentTrackIndex-=1,this.play(),this}},{key:"rewind",value:function(e){if(1<e&&e<0)throw Error("To rewind audio, ratio must be in range from 0 to 1");var t=this._playback.track.audio;if(!isNaN(t.duration)){var n=t.duration*e;t.currentTime=n}return this}},{key:"_setTrack",value:function(){if(this.isPlaying)return this;console.log("Setting track",this.currentTrackIndex);try{this._playback.track=this.playlist.getTrack(this.currentTrackIndex)}catch(e){console.log(e),console.log("CurrentTrackIndex reseted to 0"),this.currentTrackIndex=0,this._playback.track=this.playlist.getTrack(this.currentTrackIndex)}return this}},{key:"_resetPlaybackInfo",value:function(){return this._playback={track:null,source:null,playing:!1},this}},{key:"_startPlayback",value:function(){if(this.isPlaying)return console.log("Already playing!1"),this;var e=this._playback,t=this._playback.track;return e.source=this._ctx.createMediaElementSource(t.audio),this._connectNodes(),console.log("Loaded - "+e.track.src),e.playing=!0,t.audio.play(),t.off("canplay",this._startPlayback.bind(this)),this}},{key:"_createAudioApiNodes",value:function(){if(window.AudioContext||window.webkitAudioContext)return this._ctx=new(window.AudioContext||window.webkitAudioContext),this._dest=this._ctx.destination,this._gain=this._ctx.createGain(),this._equalizer=this.settings.equalizer?new u.default(this._ctx):null,this._analyser=this.settings.analyser?new s.default(this._ctx):null,this}},{key:"_connectNodes",value:function(){var e=this._equalizer?this._equalizer.filters:[],t=this._analyser?this._analyser.analyser:null;return console.log(t),[this._playback.source].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e),[this._gain,t,this._dest]).filter(function(e){return e}).reduce(function(e,t){return e instanceof AudioNode&&t instanceof AudioNode&&e.connect(t),t}),this}},{key:"isPlaying",get:function(){return this._playback.playing}},{key:"isPaused",get:function(){return this._playback.track&&this._playback.track.paused}},{key:"volume",get:function(){return this._gain.gain.value},set:function(e){if(1<e&&e<0)throw Error("Volume must be in range from 0 to 1");0===e?this.mute():this.muted&&this.unmute(),this._gain.gain.value=e}},{key:"equalizer",get:function(){return this._equalizer}},{key:"analyser",get:function(){return this._analyser}}]),i}();n.default=l},{"./Analyser":1,"./Equalizer":3,"./Playlist":4,"./Track":5,"./utils/EventEmmiter":8}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),a=e("./utils");var r=[{name:"Acoustic",data:[5,5,4,1,2,2,3,4,3,2]},{name:"Bass Booster",data:[6,5,4,3,2,0,0,0,0,0]},{name:"Bass Reducer",data:[-6,-5,-4,-3,-2,0,0,0,0,0]},{name:"Classical",data:[5,4,3,2,-1,-1,0,1,3,4]},{name:"Dance",data:[4,6,5,0,2,3,5,4,3,0]},{name:"Deep",data:[5,3,2,1,3,2,1,-2,-4,-5]},{name:"Electronic",data:[4,4,1,0,-2,2,1,2,4,5]},{name:"Hip-Hop",data:[5,3,1,3,-1,-1,1,-1,2,3]},{name:"Jazz",data:[4,3,1,2,-1,-1,0,1,3,4]},{name:"Latin",data:[5,3,0,0,-1,-1,-1,0,3,5]},{name:"Loudness",data:[6,4,0,0,-2,0,-1,-5,4,1]},{name:"Lounge",data:[-3,-2,-1,1,4,3,0,-1,2,1]},{name:"Piano",data:[3,2,0,2,3,1,3,5,3,4]},{name:"Pop",data:[-2,-1,0,2,4,4,2,0,-1,-2]},{name:"R&B",data:[2,7,6,1,-2,-1,2,3,3,4]},{name:"Rock",data:[5,4,3,2,-1,-2,0,2,3,4]},{name:"Small Speakers",data:[5,4,3,2,1,0,-2,-3,-4,-5]},{name:"Spoken Word",data:[-4,-1,0,1,3,5,5,4,2,0]},{name:"Treble Booster",data:[0,0,0,0,0,1,2,3,4,5]},{name:"Treble Reducer",data:[0,0,0,0,0,-1,-2,-3,-4,-5]},{name:"Vocal Booster",data:[-1,-3,-3,1,4,4,3,1,0,-1]}],o=[60,170,310,600,1e3,3e3,6e3,12e3,14e3,16e3],u=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.filters=[],this.presets=r,this._context=e,this._frequencies=o,this._createFilters()}return i(t,[{key:"changeFilterGain",value:function(e,t){return e in this.filters&&(this.filters[e].gain.value=(0,a.validateInRange)(t,-12,12)),this}},{key:"getFilterGain",value:function(e){return e in this.filters?this.filters[e].gain.value:null}},{key:"_createFilter",value:function(e){var t=this._context.createBiquadFilter();return t.type="peaking",t.frequency.value=e,t.Q.value=1,t.gain.value=0,t}},{key:"_createFilters",value:function(){var e=this._frequencies.map(this._createFilter.bind(this));return e.reduce(function(e,t){return e.connect(t),t}),this.filters=e,this}},{key:"frequencies",get:function(){return this._frequencies}}]),t}();n.default=u},{"./utils":11}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),o=e("./Track"),u=(i=o)&&i.__esModule?i:{default:i};var s=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._tracks=[],this.addTrackList(e)}return a(t,[{key:"getTrack",value:function(e){var t=this._tracks[e];if(!t)throw Error("Track with id="+e+" dosen't exist in playlist");return t}},{key:"addTrack",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",i=new u.default(e,t,n);return this.tracks.push(i),this}},{key:"addTrackList",value:function(e){var a=this;e.forEach(function(e,t){if("string"==typeof e)a.addTrack(t,e);else if("object"===(void 0===e?"undefined":r(e))){var n=e.src,i=e.name;a.addTrack(t,n,i)}})}},{key:"tracks",get:function(){return this._tracks}}]),t}();n.default=s},{"./Track":5}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),a=e("./utils/EventEmmiter"),o=(i=a)&&i.__esModule?i:{default:i};var u=function(e){function a(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));return i.id=e,i._src=t,i._name=n,i._audio=new Audio,i._bindEvents(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,o.default),r(a,[{key:"isBuffered",value:function(){return 0<this._audio.buffered.length}},{key:"load",value:function(){return this._audio.crossOrigin="anonymous",this._audio.src=this._src,this._audio.load(),this}},{key:"_bindEvents",value:function(){var n=this,e=function(t){0===t.search("on")&&n._audio.addEventListener(t.slice(2),function(e){n.emit(t.slice(2),e)})};for(var t in this._audio)e(t)}},{key:"src",get:function(){return this._src}},{key:"name",get:function(){return this._name}},{key:"audio",get:function(){return this._audio}},{key:"muted",set:function(e){this._audio.muted=!!e}}]),a}();n.default=u},{"./utils/EventEmmiter":8}],6:[function(e,t,n){"use strict";var i=r(e("./AudioPlayer")),a=r(e("./utils/RangeSlider")),c=e("./utils");function r(e){return e&&e.__esModule?e:{default:e}}var o=document.querySelector(".player-controls__btn_play"),u=document.querySelector(".player-controls__btn_next"),s=document.querySelector(".player-controls__btn_prev"),l=document.querySelector(".volume__btn"),f=document.querySelector(".volume__slider"),h=document.querySelector(".bar"),d=document.querySelector(".progress__bar"),y=document.querySelector(".player-controls__btn_equalizer"),v=document.querySelector(".equalizer-popup"),p=document.querySelectorAll(".equalizer-band__slider"),_=document.querySelector("#visualizer");_.width=document.body.clientWidth,_.height=document.body.clientHeight-h.clientHeight;var m=new i.default(["https://singles2017.s3.amazonaws.com/uploads/file1499697873293.mp3","https://singles2017.s3.amazonaws.com/uploads/file1496417854957.mp3","http://freshly-ground.com/data/audio/mpc/20090207%20-%20Loverman.mp3"],{equalizer:!0,analyser:!0});m.volume=.1;var b=function(e){var t=l.children[0];0===e&&(t.classList.remove("volume__icon_half"),t.classList.add("volume__icon_mute")),0<e&&e<=.5&&(t.classList.remove("volume__icon_mute"),t.classList.add("volume__icon_half")),.5<e&&(t.classList.remove("volume__icon_mute"),t.classList.remove("volume__icon_half")),m.volume=e},g=new a.default(f,{value:m.volume,onchange:b,onmove:b});l.addEventListener("click",function(e){e.preventDefault();var t=l.children[0];m.muted?(m.unmute(),t.classList.remove("volume__icon_mute")):(m.mute(),t.classList.add("volume__icon_mute"))});var k=function(e){e.preventDefault();var t=m.volume+.05*Math.sign(e.wheelDeltaY);g.setValue(t),b(t)};l.addEventListener("wheel",k),f.addEventListener("wheel",k);var w,E,T,q,P,x,O=new a.default(d,{handle:!1,buffer:!0,onchange:function(e){m.rewind(e)}}),j=function(e){var t=e.target,n=t.buffered,i=n.length?n.end(n.length-1)/t.duration:0;O.setBuffer(i)};m.on("track:progress",j),m.on("track:loadeddata",j),m.on("track:canplaythrough",j),m.on("track:timeupdate",function(e){var t=e.target,n=t.currentTime/t.duration;O.setValue(n)}),o.addEventListener("click",function(){m.isPlaying?(o.classList.remove("player-controls__btn_pause"),m.pause()):(o.classList.add("player-controls__btn_pause"),m.play())}),u.addEventListener("click",function(){o.classList.add("player-controls__btn_pause"),m.playNext()}),s.addEventListener("click",function(){o.classList.add("player-controls__btn_pause"),m.playPrev()}),y.addEventListener("click",function(e){e.preventDefault(),v.classList.toggle("equalizer-popup__open")}),p.forEach(function(e,t){var n=m.equalizer.getFilterGain(t);new a.default(e,{vertical:!0,min:-12,max:12,value:n,onchange:function(e){m.equalizer.changeFilterGain(t,e)},onmove:function(e){m.equalizer.changeFilterGain(t,e)}})}),window.addEventListener("resize",function(e){_.width=document.body.clientWidth,_.height=document.body.clientHeight-h.clientHeight}),w=m.analyser,(E=w.analyser).fftSize,T=E.frequencyBinCount,q=E.minDecibels,P=E.maxDecibels,(x=void 0)||(x=requestAnimationFrame(function e(){var t=_.getContext("2d");t.strokeStyle="#CE3D60",t.fillStyle="#CE3D60",t.lineJoin="round";var n=_.width,i=_.height,a=i/2,r=(n-20)/10;t.clearRect(0,0,n,i),w.updateData();for(var o=w.fFrequencyData,u=Math.round(T/r),s=0;s<r;s+=1){var l=Math.max(3,2*(o[s*u]-(q+P)));(0,c.roundedRect)({ctx:t,x:10*s+10,y:a-l,width:5,height:1.5*l,radius:2,fill:!0,stroke:!0})}m.isPaused||cancelAnimationFrame(x),x=requestAnimationFrame(e)}))},{"./AudioPlayer":2,"./utils":11,"./utils/RangeSlider":10}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();var a=function(){function u(){throw function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),new Error("This is static class. Creating instances is forbidden.")}return i(u,null,[{key:"createElement",value:function(e,t){var n=t.attrs,i=t.text,a=t.callback,r=t.parent,o=document.createElement(""+e);return n&&u.insertAttributes(o,n),a&&a(o),i&&(o.innerHTML=i),r instanceof HTMLElement&&r.appendChild(o),o}},{key:"insertAttributes",value:function(t,n){t instanceof HTMLElement&&Object.keys(n).forEach(function(e){t.setAttribute(e,n[e])})}}]),u}();n.default=a},{}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._events=[]}return i(e,[{key:"on",value:function(e,t){if(void 0===t)throw Error("You must provide a callback function");if("function"!=typeof t)throw Error("Callback must be a function");return this._events[e]=this._events[e]||[],this._events[e].push(t),this}},{key:"off",value:function(e,n){if(void 0===n)throw Error("You must provide a callback function");if("function"!=typeof n)throw Error("Callback must be a function");if(void 0===this._events[e])throw Error("Event not found");var i=this._events[e];return i.forEach(function(e,t){e.toString()===n.toString()&&i.splice(t,1)}),this}},{key:"emit",value:function(e){for(var n=this,t=arguments.length,i=Array(1<t?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];if(void 0===e)throw Error("You must provide an event to emit");var r=this._events[e];return void 0!==r&&(r=r.slice()).forEach(function(e,t){e.apply(n,i)}),this}}]),e}();n.default=a},{}],9:[function(e,t,n){"use strict";Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),i=1;i<arguments.length;i++){var a=arguments[i];if(null!=a)for(var r=Object.keys(Object(a)),o=0,u=r.length;o<u;o++){var s=r[o],l=Object.getOwnPropertyDescriptor(a,s);void 0!==l&&l.enumerable&&(n[s]=a[s])}}return n}})},{}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,a=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),r=e("./DOMBuilder"),o=(i=r)&&i.__esModule?i:{default:i},u=e("./");e("./ObjectAssign");var s={min:0,max:1,value:0,vertical:!1,handle:!0,buffer:!1},l=function(){function n(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.node=e,this.options=Object.assign(Object.assign({},s),t),this.track=null,this.fill=null,this.handle=null,this.buffer=null,this.vertical=this.options.vertical,this.min=this.options.min,this.max=this.options.max,this.length=Math.abs(this.min)+Math.abs(this.max),this.value=this.options.value,this.ratio=null,this.draggable=!1,this.onmove=this.options.onmove,this.onchange=this.options.onchange,this.node.ondragstart=function(){return!1},this._createDOM(),this._bindEvents(),this.setValue(this.value)}return a(n,[{key:"setValue",value:function(e){var t=(0,u.validateInRange)(e,this.min,this.max);return this.value=t,this.ratio=(this.value-this.min)/this.length,this._updateFill(),this}},{key:"setValueByRatio",value:function(e){var t=(0,u.validateInRange)(e,0,1);return this.ratio=t,this.value=this.min+this.ratio*this.length,this._updateFill(),this}},{key:"setBuffer",value:function(e){if(this.options.buffer){var t=(0,u.validateInRange)(e,0,1);this.vertical?this.buffer.style.height=100*t+"%":this.buffer.style.width=100*t+"%"}return this}},{key:"_updateFill",value:function(){return this.vertical?this.fill.style.height=100*this.ratio+"%":this.fill.style.width=100*this.ratio+"%",this}},{key:"_updateValue",value:function(e){var t=this.node.getBoundingClientRect(),n=null;return n=this.vertical?1-(e.clientY-t.top)/this.node.offsetHeight:(e.clientX-t.left)/this.node.offsetWidth,this.setValueByRatio(n),this}},{key:"_bindEvents",value:function(){var t=this;this.node.addEventListener("mousedown",function(e){1===e.which&&(t.draggable=!0,t._updateValue(e))}),document.addEventListener("mousemove",function(e){t.draggable&&(t._updateValue(e),(0,u.isFunction)(t.onmove)&&t.onmove(t.value))}),document.addEventListener("mouseup",function(e){t.draggable&&(t.draggable=!1,t._updateValue(e),(0,u.isFunction)(t.onchange)&&t.onchange(t.value))})}},{key:"_createDOM",value:function(){var e=this.vertical?"slider-vert":"slider-horiz";this.node.classList.add(e),this.track=o.default.createElement("div",{attrs:{class:e+"__track"},parent:this.node}),this.fill=o.default.createElement("div",{attrs:{class:e+"__filled"},parent:this.track}),this.options.handle&&(this.handle=o.default.createElement("div",{attrs:{class:e+"__handle"},parent:this.fill})),this.options.buffer&&(this.buffer=o.default.createElement("div",{attrs:{class:e+"__buffer"},parent:this.track}))}}]),n}();n.default=l},{"./":11,"./DOMBuilder":7,"./ObjectAssign":9}],11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isFunction=function(e){return e&&"[object Function]"==={}.toString.call(e)},n.validateInRange=function(e,t,n){var i=void 0;i=n&&n<e?n:t&&e<t?t:e;return i},n.roundedRect=function(e){var t=e.ctx,n=e.x,i=e.y,a=e.width,r=e.height,o=e.radius,u=e.fill,s=void 0!==u&&u,l=e.stroke,c=void 0===l||l,f={tl:0,tr:0,br:0,bl:0};"number"==typeof o?Object.keys(f).forEach(function(e){f[e]=o}):Object.assign(f,o);t.beginPath(),t.moveTo(n+f.tl,i),t.lineTo(n+(a-f.tr),i),t.quadraticCurveTo(n+a,i,n+a,i+f.tr),t.lineTo(n+a,i+(r-f.br)),t.quadraticCurveTo(n+a,i+r,n+(a-f.br),i+r),t.lineTo(n+f.bl,i+r),t.quadraticCurveTo(n,i+r,n,i+(r-f.bl)),t.lineTo(n,i+f.tl),t.quadraticCurveTo(n,i,n+f.tl,i),t.closePath(),s&&t.fill();c&&t.stroke()},n.calcPolarCoords=function(e,t){return{x:e*Math.cos(t),y:e*Math.sin(t)}},e("./ObjectAssign")},{"./ObjectAssign":9}]},{},[6]);